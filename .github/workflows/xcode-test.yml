# workflow ì˜ ì´ë¦„
name: Xcode Test

env:
  PROJECT: 'MaybeGamsung'

on:
  # Epic ë¸Œëœì¹˜ì— pull request ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚¬ì„ë•Œ í•´ë‹¹ workflow ë¥¼ trigger
  pull_request:
    branches: [ '**/epic/iOS/**' ]

jobs:
  build:
    runs-on: macos-latest

    steps:
    # uses í‚¤ì›Œë“œë¥¼ í†µí•´ Github Actionsì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì•¡ì…˜ì„ ì‚¬ìš© ê°€ëŠ¥. ì•„ë˜ ì•¡ì…˜ì€ repository ì— ì²´í¬ì•„ì›ƒí•˜ëŠ” ê²ƒ
    - uses: actions/checkout@v2
    # shell ì´ìš©í•´ì„œ í•˜ë‚˜ì˜ command ìˆ˜í–‰
    - name: ğŸ›  Start xcode build
      env:
        XCODEPROJ: "iOS/${{ env.PROJECT }}/${{ env.PROJECT }}.xcodeproj"
      run: |
        xcodebuild clean test
        -project ${{ env.XCODEPROJ }}
        -scheme ${{ env.PROJECT }}
        -destination 'platform=iOS Simulator,name=${{ matrix.simulator }},OS=latest'